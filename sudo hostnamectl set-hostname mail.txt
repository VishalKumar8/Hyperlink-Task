sudo hostnamectl set-hostname mail
bash

sudo nano /etc/hosts/
in file 
ip  mail.vishal.com mail

hostname 
hostname --fqdn 


smtp server instaaltion
========================
sudo apt install postfix 

internet site 

system mail name dena h 
mail.vishal.com  ---> vishal.com then ok 


sudo systemctl status postfix 


mail box folder banao  Maildir is folder ke ander all mail honge 
---------------------

sudo postconf "home_mailbox = Maildir/"

postconf -n




devcost instaaltion devcost provide imap or pop3 jaise services provide karta h jo ki work karnega as mail delivery agent 
-------------------------------------------------

sudo apt install dovecot-imapd dovecot-pop3d dovecot-core


sudo systemctl status dovecot 

->when changes configuration then reaload cmd 
sudo systemctl reload postfix
sudo systemctl reload dovecot


sudo nano /etc/dovecot/conf.d/10-mail.conf  

in file

comment this line mail_location = mbox:-/mail:INBOX

then uncommnet this line mail_location = maildir:~/Maildir

ctrl + x and y then enter

configuration check 
--------------------

postconf -n 
doveconf -n


jab bhi koi new user hamre mail server par login kare to har user ke home dir me automatically ek maildir ban jaye uske mail box ki tarh kam karenga  

cd /etc/skel/

$ls
$sudo mkdir -p Maildir/cur Maildir/new Maildir/tmp
$ls
$ls -la Maildir/
$


email client interface provide karenga so we will interacat with email to send the email to recive the email uske liye hame mutt install karnega padenga 

sudo apt install mutt 


abhi ham chhate h ki koi new user signup kare to usko bhi access ho m

sudo mkdir /etc/skel/.mutt

$ls

$ls -la

#cd .mutt/
sudo nano muttrc

in muttrc file

set imap_user = ""
set imap_pass = ""

set folder = imaps://mail
set spoolfile = +INBOX

set realname = ''
set from = "$imap_user"
set use_from = yes

set sort=reverse-date

mailboxes = INBOX


set timeout=1

set sidebar_visible = yes


source ~/.mutt/mutt_colors


cat muttrc

sudo nano mutt_colors

in file 


# Colours for items in the index
color index brightcyan black ~N
# Hmm, don't like this.
# color index brightgreen black "~N (~x byers.world)|(~x byers.x)|(~x langly.levallois123.axialys.net)|(~x the.earth.li)"
color index brightyellow black ~F
color index black green ~T
color index brightred black ~D
mono index bold ~N
mono index bold ~F
mono index bold ~T
mono index bold ~D

# Highlights inside the body of a message.

# URLs
color body brightgreen black "(http|ftp|news|telnet|finger)://[^ \"\t\r\n]*"
color body brightgreen black "mailto:[-a-z_0-9.]+@[-a-z_0-9.]+"
mono body bold "(http|ftp|news|telnet|finger)://[^ \"\t\r\n]*"
mono body bold "mailto:[-a-z_0-9.]+@[-a-z_0-9.]+"

# email addresses
color body brightgreen black "[-a-z_0-9.%$]+@[-a-z_0-9.]+\\.[-a-z][-a-z]+"
mono body bold "[-a-z_0-9.%$]+@[-a-z_0-9.]+\\.[-a-z][-a-z]+"

# header
color header green black "^from:"
color header green black "^to:"
color header green black "^cc:"
color header green black "^date:"
color header yellow black "^newsgroups:"
color header yellow black "^reply-to:"
# color header brightcyan black "^subject:"
color header yellow black "^subject:"
color header red black "^x-spam-rule:"
color header green black "^x-mailer:"
color header yellow black "^message-id:"
color header yellow black "^Organization:"
color header yellow black "^Organisation:"
color header yellow black "^User-Agent:"
color header yellow black "^message-id: .*pine"
color header yellow black "^X-Fnord:"
color header yellow black "^X-WebTV-Stationery:"
color header yellow black "^X-Message-Flag:"
color header yellow black "^X-Spam-Status:"
color header yellow black "^X-SpamProbe:"
color header red black "^X-SpamProbe: SPAM"

# Coloring quoted text - coloring the first 7 levels:
color quoted cyan black
color quoted1 yellow black
color quoted2 red black
color quoted3 green black
color quoted4 cyan black
color quoted5 yellow black
color quoted6 red black
color quoted7 green black


# Default color definitions
#color hdrdefault white green
color signature brightmagenta black
color indicator black cyan
color attachment black green
color error red black
color message white black
color search brightwhite magenta
# color status brightyellow blue
color status blue black
color tree brightblue black
color normal white black
color tilde green black
color bold brightyellow black
color underline magenta black
color markers brightcyan black

# Colour definitions when on a mono screen
mono bold bold
mono underline underline
mono indicator reverse

#cd ..
#ls -la

sudo  chmod 700 -R  /etc/skel/

sudo adduser --gecos "" rahul 


#sudo adduser --gecos "" naresh

$su rahul 
$ls
$cd ~
$pwd
$ls
$ls -la


signup karne ke liye mutt ke ander usename or passowrd dalna pdenga 

nano .mutt/muttrc

in muttrc file 

set imap_user = "rahul"
set imap_pass = "rahul"   ==>automatically password grap 

set folder = imaps://mail
set spoolfile = +INBOX

set realname = 'rahul'
set from = "$imap_user"
set use_from = yes

set sort=reverse-


su naresh

$cd ~
$pwd
$ls -la 
nano .mutt/muttrc

in muttrc file 

set imap_user = "naresh"
set imap_pass = "naresh"   ==>automatically password grap 

set folder = imaps://mail
set spoolfile = +INBOX

set realname = 'naresh google'
set from = "$imap_user"
set use_from = yes

set sort=reverse-


























